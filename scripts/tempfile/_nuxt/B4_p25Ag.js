const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BvexhTZs.js","./entry.DDxYEnCS.css"])))=>i.map(i=>d[i]);
import{e as P,h as U,i as C,r as v,k as j,D as M,c as h,o as x,a as l,b as s,w as t,n as e,d as r,t as c,p as N,F as V,_ as z,v as B,q as D}from"./BvexhTZs.js";import{_ as E,a as F}from"./DGfcONSc.js";import q from"./B2MUHF3Z.js";import{_ as G}from"./BX464hKy.js";import{_ as H,a as O}from"./BlYNOy9b.js";import{_ as R}from"./DzwEWf_k.js";import{_ as u}from"./Te087XyE.js";import{_ as J,a as A,b as Q}from"./CyvZY9pv.js";import{a as _,b as m,_ as p}from"./CX0wwNc8.js";import"./CUw6zPDB.js";import"./CtKdyHjI.js";import"./C6Y-ieo6.js";import"./BAYMBq5_.js";import"./DUVp9UZ0.js";import"./CLsMh9cr.js";const W={class:"lg:p-20 flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-neutral-800"},X={class:"flex-1 flex w-full z-10 max-w-7xl lg:max-h-[85vh] shadow-lg rounded-lg overflow-hidden mx-auto dark:bg-neutral-800 dark:border-neutral-700"},Y={class:"hidden lg:block w-1/2"},Z={class:"w-full lg:w-1/2 flex flex-col justify-center items-center bg-white dark:bg-neutral-900 dark:border-neutral-700 relative"},ee={class:"absolute top-4 right-4 z-10"},se={class:"max-w-sm w-full p-4 sm:p-7 space-y-6"},te={class:"space-y-4"},ae={class:"grid gap-y-6"},oe={class:""},le={class:"text-sm text-gray-600 dark:text-neutral-400"},ne={class:"flex items-center justify-around gap-4 w-1/2 mx-auto"},re={class:"inline-flex"},ce={class:"inline-flex"},be=P({__name:"login",async setup(de){let K,k;[K,k]=U(()=>B("plain")),await K,k();const{t:o}=C(),f=v("accessKeyAndSecretKey"),i=v({accessKeyId:"",secretAccessKey:""}),d=v({accessKeyId:"",secretAccessKey:"",sessionToken:""}),S=j(),T=M(),I=async()=>{const b=f.value==="accessKeyAndSecretKey"?i.value:d.value;try{const{configManager:a}=await D(async()=>{const{configManager:w}=await import("./BvexhTZs.js").then(y=>y.ek);return{configManager:w}},__vite__mapDeps([0,1]),import.meta.url),g=await a.loadConfig();await T.login(b,g),S.success(o("Login Success")),window.location.reload()}catch{S.error(o("Login Failed"))}};return(b,a)=>{const g=F,w=q,y=G,L=H,$=O;return x(),h("div",W,[a[7]||(a[7]=l("img",{src:E,class:"absolute inset-0 z-0 opacity-45",alt:""},null,-1)),l("div",X,[l("div",Y,[s(g)]),l("div",Z,[l("div",ee,[s(y,{to:"/config",class:"inline-flex items-center justify-center w-8 h-8 rounded-lg border border-gray-200 bg-white text-gray-600 shadow-sm hover:bg-gray-50 hover:text-gray-800 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:hover:bg-neutral-800 dark:hover:text-white transition-colors",title:e(o)("Server Configuration")},{default:t(()=>[s(w,{name:"ri:settings-3-line",class:"text-sm"})]),_:1},8,["title"])]),l("div",se,[a[6]||(a[6]=l("img",{src:R,class:"max-w-28",alt:""},null,-1)),l("div",te,[s(e(Q),{modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=n=>f.value=n),class:"flex flex-col gap-4"},{default:t(()=>[s(e(J),{class:"w-full"},{default:t(()=>[s(e(A),{class:"w-1/2",value:"accessKeyAndSecretKey"},{default:t(()=>[r(c(e(o)("Key Login")),1)]),_:1}),s(e(A),{class:"w-1/2",value:"sts"},{default:t(()=>[r(c(e(o)("STS Login")),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),l("form",{onSubmit:N(I,["prevent"]),autocomplete:"off"},[l("div",ae,[f.value=="accessKeyAndSecretKey"?(x(),h(V,{key:0},[s(e(p),null,{default:t(()=>[s(e(_),{for:"accessKey"},{default:t(()=>[r(c(e(o)("Account")),1)]),_:1}),s(e(m),null,{default:t(()=>[s(e(u),{id:"accessKey",modelValue:i.value.accessKeyId,"onUpdate:modelValue":a[1]||(a[1]=n=>i.value.accessKeyId=n),autocomplete:"new-password",type:"text",placeholder:e(o)("Please enter account")},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),s(e(p),null,{default:t(()=>[s(e(_),{for:"secretKey"},{default:t(()=>[r(c(e(o)("Key")),1)]),_:1}),s(e(m),null,{default:t(()=>[s(e(u),{id:"secretKey",modelValue:i.value.secretAccessKey,"onUpdate:modelValue":a[2]||(a[2]=n=>i.value.secretAccessKey=n),autocomplete:"new-password",type:"password",placeholder:e(o)("Please enter key")},null,8,["modelValue","placeholder"])]),_:1})]),_:1})],64)):(x(),h(V,{key:1},[s(e(p),null,{default:t(()=>[s(e(_),{for:"stsAccessKey"},{default:t(()=>[r(c(e(o)("STS Username")),1)]),_:1}),s(e(m),null,{default:t(()=>[s(e(u),{id:"stsAccessKey",modelValue:d.value.accessKeyId,"onUpdate:modelValue":a[3]||(a[3]=n=>d.value.accessKeyId=n),autocomplete:"new-password",type:"text",placeholder:e(o)("Please enter STS username")},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),s(e(p),null,{default:t(()=>[s(e(_),{for:"stsSecretKey"},{default:t(()=>[r(c(e(o)("STS Key")),1)]),_:1}),s(e(m),null,{default:t(()=>[s(e(u),{id:"stsSecretKey",modelValue:d.value.secretAccessKey,"onUpdate:modelValue":a[4]||(a[4]=n=>d.value.secretAccessKey=n),autocomplete:"new-password",type:"password",placeholder:e(o)("Please enter STS key")},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),s(e(p),null,{default:t(()=>[s(e(_),{for:"sessionToken"},{default:t(()=>[r(c(e(o)("STS Session Token")),1)]),_:1}),s(e(m),null,{default:t(()=>[s(e(u),{id:"sessionToken",modelValue:d.value.sessionToken,"onUpdate:modelValue":a[5]||(a[5]=n=>d.value.sessionToken=n),autocomplete:"new-password",type:"text",placeholder:e(o)("Please enter STS session token")},null,8,["modelValue","placeholder"])]),_:1})]),_:1})],64)),s(e(z),{type:"submit",variant:"default",class:"w-full justify-center"},{default:t(()=>[r(c(e(o)("Login")),1)]),_:1})])],32)]),l("div",oe,[l("p",le,[r(c(e(o)("Login Problems?"))+" ",1),s(y,{to:"https://www.rustfs.com",class:"text-blue-600 hover:underline"},{default:t(()=>[r(c(e(o)("Get Help")),1)]),_:1})])]),l("div",ne,[l("div",re,[s(L)]),l("div",ce,[s($)])])])])])])}}});export{be as default};
