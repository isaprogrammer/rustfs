import{_ as dt}from"./DlpFS5KH.js";import{e as ce,c as x,o as b,I as Ae,n as e,X as Ee,Y as Pe,i as ft,k as vt,K as pt,r as _,x as M,B as mt,F as ae,b as l,w as n,a as f,d as p,t as c,_ as A,m as H,y as _e,p as yt,C as oe}from"./BvexhTZs.js";import{_ as Se}from"./Te087XyE.js";import{_ as $,a as R,b as j}from"./CX0wwNc8.js";import{_ as gt,a as Q,b as Z,c as ee,d as se}from"./C06YvAAS.js";import{_ as Be,a as Te}from"./BlQnixsQ.js";import{_ as Ue}from"./CjRf5-Eg.js";import{_ as Ie}from"./zIRx1Luc.js";import{M as ue}from"./D6QIHz9A.js";import{S as be}from"./BqQ6eC6R.js";import{u as _t}from"./DirN9_Lc.js";import{u as St}from"./DZMOwJ3K.js";import ie from"./B2MUHF3Z.js";const te=ce({__name:"ItemActions",props:{class:{}},setup(s){const o=s;return(t,u)=>(b(),x("div",{"data-slot":"item-actions",class:Ae(e(Ee)("flex items-center gap-2",o.class))},[Pe(t.$slots,"default")],2))}}),re=ce({__name:"ItemDescription",props:{class:{}},setup(s){const o=s;return(t,u)=>(b(),x("p",{"data-slot":"item-description",class:Ae(e(Ee)("text-muted-foreground line-clamp-2 text-sm leading-normal font-normal text-balance","[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4",o.class))},[Pe(t.$slots,"default")],2))}}),bt=ce({__name:"ItemGroup",props:{class:{}},setup(s){const o=s;return(t,u)=>(b(),x("div",{role:"list","data-slot":"item-group",class:Ae(e(Ee)("group/item-group flex flex-col",o.class))},[Pe(t.$slots,"default")],2))}}),h={None:"none",ReadOnly:"readonly",ReadWrite:"readwrite",WriteOnly:"writeonly",Private:"private",Public:"public"},z="arn:aws:s3:::",he=new Set(["s3:GetBucketLocation"]),xe=new Set(["s3:ListBucket"]),Ve=new Set(["s3:ListBucketMultipartUploads"]),de=new Set(["s3:GetObject"]),fe=new Set(["s3:AbortMultipartUpload","s3:DeleteObject","s3:ListMultipartUploadParts","s3:PutObject"]);[...de,...fe];[...Array.from(he),...Array.from(xe),...Array.from(Ve),...Array.from(de),...Array.from(fe)];function ke(s,o){return new Set([...s].filter(t=>o.has(t)))}function K(s,o){if(s.size!==o.size)return!1;for(const t of s)if(!o.has(t))return!1;return!0}function we(s,o){return JSON.stringify(s)===JSON.stringify(o)}function kt(s,o){const t={...s};for(const[u,k]of Object.entries(o))t[u]={...t[u],...k};return t}function We(s){return!(!s.Effect||!s.Principal?.AWS||!s.Action||!s.Resource||!Array.isArray(s.Principal.AWS)||s.Principal.AWS.length===0||!Array.isArray(s.Action)||s.Action.length===0||!Array.isArray(s.Resource)||s.Resource.length===0)}function Le(s){const o=s.bucket;if(!o)throw new Error("Invalid resource: bucket is required");const t=s.object;return t?`${z}${o}/${t}`:`${z}${o}`}function D(s,o,t){const u={Effect:"Allow",Principal:{AWS:s},Action:o,Resource:t.map(Le)};if(!We(u))throw new Error("Invalid policy statement");return u}function wt(s,o,t){const u={Effect:"Deny",Principal:{AWS:s},Action:o,Resource:t.map(Le)};if(!We(u))throw new Error("Invalid policy statement");return u}function At(s,o){for(let t=0;t<s.length;t++){const u=s[t];if(!u)continue;const k=u.Action??[],g=u.Resource??[],v=u.Principal?.AWS??[];if(K(new Set(k),new Set(o.Action))&&u.Effect===o.Effect&&K(new Set(v),new Set(o.Principal.AWS))&&we(u.Conditions,o.Conditions))return u.Resource=[...new Set([...g,...o.Resource])],s;if(K(new Set(g),new Set(o.Resource))&&u.Effect===o.Effect&&K(new Set(v),new Set(o.Principal.AWS))&&we(u.Conditions,o.Conditions))return u.Action=[...new Set([...k,...o.Action])],s;const C=ke(new Set(g),new Set(o.Resource)),O=ke(new Set(k),new Set(o.Action)),B=ke(new Set(v),new Set(o.Principal.AWS));if(K(C,new Set(o.Resource))&&K(O,new Set(o.Action))&&u.Effect===o.Effect&&K(B,new Set(o.Principal.AWS))){if(we(u.Conditions,o.Conditions))return s;if(u.Conditions&&o.Conditions&&K(new Set(g),new Set(o.Resource)))return u.Conditions=kt(u.Conditions,o.Conditions),s}}return o.Action.length===0&&o.Resource.length===0?s:[...s,o]}function Et(s,o){for(const t of o)s=At(s,t);return s}function Pt(s,o,t){const u=`${z}${o}`,k=`${z}${o}/${t}*`;let g=!1,v=!1,C=!1,O=!1,B=!1;const ve=s.some(d=>d.Effect==="Allow"&&d.Principal.AWS.includes("*")&&d.Resource.includes(k)&&d.Action.some(S=>S==="s3:GetObject"||S==="s3:GetObjectTagging"||S==="s3:ListBucket"||S==="s3:GetBucketLocation")),le=s.some(d=>d.Effect==="Allow"&&d.Principal.AWS.includes("arn:aws:iam::*:root")&&d.Resource.includes(k)&&d.Action.some(S=>S==="s3:PutObject"||S==="s3:DeleteObject"||S==="s3:PutObjectTagging"||S==="s3:DeleteObjectTagging"));if(ve&&le)return h.Public;const pe=s.some(d=>d.Effect==="Allow"&&d.Principal.AWS.includes("arn:aws:iam::*:root")&&d.Resource.includes(k)&&d.Action.includes("s3:*")),me=s.some(d=>d.Effect==="Deny"&&d.Principal.AWS.includes("*")&&d.Resource.includes(k)&&d.Action.includes("s3:*"));if(pe&&me)return h.Private;for(const d of s){if(d.Resource.includes(u)){const S=d.Action.some(U=>he.has(U)),N=d.Action.some(U=>xe.has(U)),T=d.Action.some(U=>Ve.has(U));S&&d.Effect==="Allow"&&(g=!0),N&&d.Effect==="Allow"&&(v=!0),T&&d.Effect==="Allow"&&(C=!0)}if(d.Resource.includes(k)){const S=d.Action.some(T=>de.has(T)),N=d.Action.some(T=>fe.has(T));S&&d.Effect==="Allow"&&(O=!0),N&&d.Effect==="Allow"&&(B=!0)}}if(g){if(v&&C&&O&&B)return h.ReadWrite;if(v&&O)return h.ReadOnly;if(C&&B)return h.WriteOnly}return h.None}function ht(s,o){return[D(["arn:aws:iam::*:root"],["s3:*"],[{bucket:s,object:`${o}*`}]),wt(["*"],["s3:*"],[{bucket:s,object:`${o}*`}])]}function xt(s,o){return[D(["*"],["s3:GetObject","s3:GetObjectTagging","s3:ListBucket","s3:GetBucketLocation"],[{bucket:s,object:`${o}*`}]),D(["arn:aws:iam::*:root"],["s3:PutObject","s3:DeleteObject","s3:PutObjectTagging","s3:DeleteObjectTagging"],[{bucket:s,object:`${o}*`}])]}function Vt(s,o,t,u){const k=s.filter(v=>{const C=`${z}${t}`,O=`${z}${t}/${u}*`;return!v.Resource.includes(C)&&!v.Resource.includes(O)});let g=[];switch(o){case h.Private:g=ht(t,u);break;case h.Public:g=xt(t,u);break;default:g.push(D(["*"],Array.from(he),[{bucket:t}])),(o===h.ReadOnly||o===h.ReadWrite)&&(g.push(D(["*"],Array.from(xe),[{bucket:t}])),g.push(D(["*"],Array.from(de),[{bucket:t,object:`${u}*`}]))),(o===h.WriteOnly||o===h.ReadWrite)&&(g.push(D(["*"],Array.from(Ve),[{bucket:t}])),g.push(D(["*"],Array.from(fe),[{bucket:t,object:`${u}*`}])))}return Et(k,g)}const Ct={class:"space-y-6"},Ot={class:"flex flex-col gap-1"},$t={key:0,class:"flex flex-wrap gap-2"},Rt=["onClick"],jt={class:"flex items-center justify-between gap-3"},Mt={class:"text-sm font-medium text-foreground"},Kt={class:"flex items-center justify-between gap-3"},Dt={class:"flex items-center gap-2"},Bt={class:"text-sm font-medium text-foreground"},Tt={class:"grid gap-3 sm:grid-cols-2"},Ut={class:"text-xs text-muted-foreground"},It={class:"text-sm text-foreground"},Wt={class:"text-xs text-muted-foreground"},Lt={class:"text-sm text-foreground"},Ft={class:"text-xs text-muted-foreground"},zt={class:"text-sm text-foreground"},Nt={class:"space-y-4"},Gt={class:"max-h-[60vh] overflow-y-auto rounded-md border p-2"},Yt={class:"flex justify-end gap-2"},Jt={class:"space-y-4"},qt={class:"flex justify-end gap-2"},Xt={class:"space-y-4"},Ht={class:"flex justify-end gap-2"},Qt={class:"space-y-4"},Zt={class:"text-sm font-medium"},el={class:"text-sm font-medium"},tl={class:"flex justify-end gap-2"},ll=ce({__name:"info",setup(s,{expose:o}){const{t}=ft(),u=vt(),k=pt(),g=_(!1),v=_(""),C=M(()=>`${t("Bucket Configuration")}(${v.value||"-"})`),O=i=>{B(),g.value=!0,v.value=i,Xe()},B=()=>{I.value=!1,L.value="Suspended",G.value=!1,m.value.retentionMode=null,m.value.retentionPeriod=null,m.value.retentionUnit=null,w.value={policy:"private",content:"{}"},y.value={encrypt:"disabled",kmsKeyId:""},V.value=[]};o({openDrawer:O});const{getBucketTagging:ve,putBucketTagging:le,putBucketVersioning:pe,getBucketVersioning:me,getBucketPolicy:d,putBucketPolicy:S,getObjectLockConfiguration:N,putObjectLockConfiguration:T,getBucketEncryption:U,putBucketEncryption:Ce,deleteBucketEncryption:Fe}=_t({}),{getKeyList:ze}=St(),I=_(!1),ye=_(!1),G=_(!1),m=_({retentionMode:null,retentionPeriod:null,retentionUnit:null}),w=_({policy:"private",content:"{}"}),W=_("public"),Y=_(!1),y=_({encrypt:"disabled",kmsKeyId:""}),J=_(!1),Oe=_([]),L=_("Suspended"),q=_(!1),V=_([]),F=_(!1),E=_({name:"",value:""}),ne=_(-1),X=_(!1),$e=M({get:()=>(m.value.retentionPeriod??"").toString(),set:i=>{if(!i){m.value.retentionPeriod=null;return}const a=Number.parseInt(i,10);m.value.retentionPeriod=Number.isFinite(a)?a:null}}),Re=M(()=>[{label:t("Public"),value:"public"},{label:t("Private"),value:"private"},{label:t("Custom"),value:"custom"}]),Ne=M(()=>[{label:t("Disabled"),value:"disabled"},{label:"SSE-KMS",value:"SSE-KMS"},{label:"SSE-S3",value:"SSE-S3"}]),Ge=M(()=>[{label:t("COMPLIANCE"),value:"COMPLIANCE"},{label:t("GOVERNANCE"),value:"GOVERNANCE"}]),Ye=M(()=>[{label:t("DAYS"),value:"Days"},{label:t("YEARS"),value:"Years"}]),Je=M(()=>{const i=Re.value.find(a=>a.value===W.value);return i?i.label:W.value==="custom"?t("Custom"):W.value}),qe=M(()=>y.value.encrypt==="SSE-KMS"?"SSE-KMS":y.value.encrypt==="SSE-S3"?"SSE-S3":t("Disabled")),Xe=async()=>{await Promise.allSettled([nt(),tt(),je(),Ke(),Me()])},je=async()=>{ye.value=!0;try{const i=await N(v.value);if(i.ObjectLockConfiguration?.ObjectLockEnabled==="Enabled"){I.value=!0;const a=i.ObjectLockConfiguration.Rule?.DefaultRetention;a?(G.value=!0,m.value.retentionMode=a.Mode??null,m.value.retentionPeriod=a.Days??a.Years??null,m.value.retentionUnit=a.Years?"Years":a.Days?"Days":null):(G.value=!1,m.value.retentionMode=null,m.value.retentionPeriod=null,m.value.retentionUnit=null)}else I.value=!1,G.value=!1,m.value.retentionMode=null,m.value.retentionPeriod=null,m.value.retentionUnit=null}finally{ye.value=!1}},Me=async()=>{try{const i=await d(v.value);if(i.Policy){w.value.content=i.Policy;const a=Pt(JSON.parse(i.Policy).Statement,v.value,"");W.value=a==="none"?"custom":a,w.value.policy=W.value}else W.value="public",w.value.policy="public"}catch(i){console.error("Error fetching bucket policy:",i),W.value="private",w.value.policy="private",w.value.content="{}"}},He=()=>{Y.value=!0},Qe=async()=>{try{if(w.value.policy==="custom"){const i=JSON.stringify(JSON.parse(w.value.content));await S(v.value,i)}else{const i=Vt([],w.value.policy,v.value,"");await S(v.value,JSON.stringify({Version:"2012-10-17",Statement:i}))}u.success(t("Edit Success")),Y.value=!1,await Me()}catch(i){u.error(`${t("Edit Failed")}: ${i.message}`)}},Ze=()=>{J.value=!0,y.value.encrypt==="SSE-KMS"&&De()},Ke=async()=>{try{const P=(await U(v.value)).ServerSideEncryptionConfiguration?.Rules?.[0]?.ApplyServerSideEncryptionByDefault;P?.SSEAlgorithm==="aws:kms"?(y.value.encrypt="SSE-KMS",y.value.kmsKeyId=P.KMSMasterKeyID??""):P?.SSEAlgorithm==="AES256"?(y.value.encrypt="SSE-S3",y.value.kmsKeyId=""):(y.value.encrypt="disabled",y.value.kmsKeyId="")}catch(i){i?.status===404?(y.value.encrypt="disabled",y.value.kmsKeyId=""):console.error("Failed to get bucket encryption:",i)}},De=async()=>{try{const i=await ze();Oe.value=(i?.keys||[]).map(a=>({label:a.tags?.name||a.description||`Key-${a.key_id?.substring(0,8)}`,value:a.key_id}))}catch(i){console.error("Failed to fetch KMS keys:",i),u.error(t("Failed to fetch KMS keys"))}};mt(()=>y.value.encrypt,i=>{i==="SSE-KMS"&&De()});const et=async()=>{try{if(y.value.encrypt==="disabled")await Fe(v.value);else if(y.value.encrypt==="SSE-KMS"){if(!y.value.kmsKeyId){u.error(t("Please select a KMS key for SSE-KMS encryption"));return}await Ce(v.value,{Rules:[{ApplyServerSideEncryptionByDefault:{SSEAlgorithm:"aws:kms",KMSMasterKeyID:y.value.kmsKeyId}}]})}else await Ce(v.value,{Rules:[{ApplyServerSideEncryptionByDefault:{SSEAlgorithm:"AES256"}}]});u.success(t("Edit Success")),J.value=!1,await Ke()}catch(i){u.error(`${t("Edit Failed")}: ${i.message}`)}},tt=async()=>{try{const i=await me(v.value);L.value=i.Status}catch(i){console.error("get version fail:",i)}},lt=async i=>{if(q.value)return;const a=i?"Enabled":"Suspended",P=L.value;q.value=!0;try{await pe(v.value,a),L.value=a,u.success(t("Edit Success"))}catch(r){L.value=P,u.error(`${t("Edit Failed")}: ${r.message}`)}finally{q.value=!1}},nt=async()=>{const i=await ve(v.value);V.value=i.TagSet||[]},at=()=>{ne.value=-1,E.value={name:"",value:""},F.value=!0},ot=i=>{ne.value=i;const a=V.value[i];a&&(E.value={name:a.Key,value:a.Value},F.value=!0)},st=i=>{k.error({title:t("Warning"),content:t("Delete Tag Confirm"),positiveText:t("Confirm"),negativeText:t("Cancel"),onPositiveClick:async()=>{V.value.splice(i,1);try{await le(v.value,{TagSet:V.value}),u.success(t("Tag Update Success"))}catch(a){u.error(`${t("Tag Delete Failed")}: ${a.message}`)}}})},ut=async()=>{if(!E.value.name||!E.value.value){u.error(t("Please fill in complete tag information"));return}ne.value===-1?V.value.push({Key:E.value.name,Value:E.value.value}):V.value[ne.value]={Key:E.value.name,Value:E.value.value};try{await le(v.value,{TagSet:V.value}),u.success(t("Tag Update Success")),F.value=!1}catch(i){u.error(`${t("Tag Update Failed")}: ${i.message}`)}},it=()=>{if(!I.value){u.error(t("Object lock is not enabled, cannot set retention"));return}X.value=!0},rt=async()=>{const{retentionMode:i,retentionPeriod:a,retentionUnit:P}=m.value;if(!i||!a||!P){u.error(t("Please fill in complete retention information"));return}try{await T(v.value,{ObjectLockEnabled:"Enabled",Rule:{DefaultRetention:{Mode:i,Days:P==="Days"?a:null,Years:P==="Years"?a:null}}}),u.success(t("Edit Success")),X.value=!1,await je()}catch(r){u.error(`${t("Edit Failed")}: ${r.message}`)}};return(i,a)=>{const P=dt;return b(),x(ae,null,[l(gt,{modelValue:g.value,"onUpdate:modelValue":a[1]||(a[1]=r=>g.value=r),title:C.value,size:"xl"},{default:n(()=>[f("div",Ct,[l(e(bt),{class:"space-y-4"},{default:n(()=>[l(e(Q),{variant:"outline",class:"flex-col items-stretch gap-4"},{default:n(()=>[l(e(Z),null,{default:n(()=>[l(e(ee),null,{default:n(()=>[p(c(e(t)("Access Policy")),1)]),_:1}),l(e(te),null,{default:n(()=>[l(e(A),{variant:"outline",size:"sm",class:"shrink-0",onClick:He},{default:n(()=>[l(e(ie),{name:"ri:edit-2-line",class:"mr-2 size-4"}),f("span",null,c(e(t)("Edit")),1)]),_:1})]),_:1})]),_:1}),l(e(se),null,{default:n(()=>[l(e(re),{class:"text-sm"},{default:n(()=>[p(c(Je.value),1)]),_:1})]),_:1})]),_:1}),l(e(Q),{variant:"outline",class:"flex-col items-stretch gap-4"},{default:n(()=>[l(e(Z),{class:"items-start"},{default:n(()=>[f("div",Ot,[l(e(ee),null,{default:n(()=>[p(c(e(t)("Encryption")),1)]),_:1}),l(e(re),{class:"text-xs text-muted-foreground"},{default:n(()=>[p(c(qe.value),1)]),_:1})]),l(e(te),null,{default:n(()=>[l(e(A),{variant:"outline",size:"sm",class:"shrink-0",onClick:Ze},{default:n(()=>[l(e(ie),{name:"ri:edit-2-line",class:"mr-2 size-4"}),f("span",null,c(e(t)("Edit")),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(e(Q),{variant:"outline",class:"flex-col items-stretch gap-4"},{default:n(()=>[l(e(Z),null,{default:n(()=>[l(e(ee),null,{default:n(()=>[p(c(e(t)("Tag")),1)]),_:1}),l(e(te),null,{default:n(()=>[l(e(A),{variant:"outline",size:"sm",class:"shrink-0",onClick:at},{default:n(()=>[l(e(ie),{name:"ri:add-line",class:"mr-2 size-4"}),f("span",null,c(e(t)("Add")),1)]),_:1})]),_:1})]),_:1}),l(e(se),null,{default:n(()=>[V.value.length?(b(),x("div",$t,[(b(!0),x(ae,null,_e(V.value,(r,ge)=>(b(),x("div",{key:`${r.Key}-${ge}`,class:"flex items-center gap-2 rounded-full border bg-muted/40 px-3 py-1 text-xs"},[f("button",{type:"button",class:"text-left",onClick:ct=>ot(ge)},c(r.Key)+":"+c(r.Value),9,Rt),l(e(A),{variant:"ghost",size:"sm",class:"h-6 w-6 p-0",onClick:yt(ct=>st(ge),["stop"])},{default:n(()=>[l(e(ie),{name:"ri:close-line",class:"size-3.5"})]),_:1},8,["onClick"])]))),128))])):(b(),H(e(re),{key:1,class:"text-sm"},{default:n(()=>[p(c(e(t)("No Data")),1)]),_:1}))]),_:1})]),_:1}),l(e(Q),{variant:"outline",class:"flex-col items-stretch gap-4"},{default:n(()=>[l(e(Z),null,{default:n(()=>[l(e(ee),null,{default:n(()=>[p(c(e(t)("Object Lock")),1)]),_:1}),l(e(te),null,{default:n(()=>[ye.value?(b(),H(e(Ue),{key:0,class:"size-3 text-muted-foreground"})):oe("",!0)]),_:1})]),_:1}),l(e(se),{class:"flex flex-col gap-3"},{default:n(()=>[f("div",jt,[f("p",Mt,c(e(t)("Object Lock")),1),l(e(Ie),{modelValue:I.value,"onUpdate:modelValue":a[0]||(a[0]=r=>I.value=r),disabled:""},null,8,["modelValue"])]),f("div",Kt,[f("div",Dt,[f("p",Bt,c(e(t)("Version Control")),1),q.value?(b(),H(e(Ue),{key:0,class:"size-3 text-muted-foreground"})):oe("",!0)]),l(e(Ie),{modelValue:L.value==="Enabled",disabled:I.value||q.value,"onUpdate:modelValue":lt},null,8,["modelValue","disabled"])])]),_:1})]),_:1}),l(e(Q),{variant:"outline",class:"flex-col items-stretch gap-4"},{default:n(()=>[l(e(Z),{class:"items-start"},{default:n(()=>[f("div",null,[l(e(ee),null,{default:n(()=>[p(c(e(t)("Retention")),1)]),_:1}),l(e(re),{class:"text-xs text-muted-foreground"},{default:n(()=>[p(c(G.value?e(t)("Enabled"):e(t)("Disabled")),1)]),_:1})]),l(e(te),null,{default:n(()=>[l(e(A),{variant:"outline",size:"sm",class:"shrink-0",onClick:it},{default:n(()=>[f("span",null,c(e(t)("Edit")),1)]),_:1})]),_:1})]),_:1}),l(e(se),null,{default:n(()=>[f("div",Tt,[f("div",null,[f("p",Ut,c(e(t)("Retention Mode")),1),f("p",It,c(m.value.retentionMode?e(t)(m.value.retentionMode):"-"),1)]),f("div",null,[f("p",Wt,c(e(t)("Retention Unit")),1),f("p",Lt,c(m.value.retentionUnit?e(t)(m.value.retentionUnit):"-"),1)]),f("div",null,[f("p",Ft,c(e(t)("Retention Period")),1),f("p",zt,c(m.value.retentionPeriod??"-"),1)])])]),_:1})]),_:1})]),_:1})])]),_:1},8,["modelValue","title"]),l(ue,{modelValue:Y.value,"onUpdate:modelValue":a[5]||(a[5]=r=>Y.value=r),title:e(t)("Set Policy"),size:"xl"},{footer:n(()=>[f("div",Yt,[l(e(A),{variant:"outline",onClick:a[4]||(a[4]=r=>Y.value=!1)},{default:n(()=>[p(c(e(t)("Cancel")),1)]),_:1}),l(e(A),{variant:"default",onClick:Qe},{default:n(()=>[p(c(e(t)("Confirm")),1)]),_:1})])]),default:n(()=>[f("div",Nt,[l(e($),null,{default:n(()=>[l(e(R),null,{default:n(()=>[p(c(e(t)("Policy")),1)]),_:1}),l(e(j),null,{default:n(()=>[l(be,{modelValue:w.value.policy,"onUpdate:modelValue":a[2]||(a[2]=r=>w.value.policy=r),options:Re.value,placeholder:e(t)("Please select policy")},null,8,["modelValue","options","placeholder"])]),_:1})]),_:1}),w.value.policy==="custom"?(b(),H(e($),{key:0},{default:n(()=>[l(e(R),null,{default:n(()=>[p(c(e(t)("Policy Content")),1)]),_:1}),l(e(j),null,{default:n(()=>[f("div",Gt,[l(P,{modelValue:w.value.content,"onUpdate:modelValue":a[3]||(a[3]=r=>w.value.content=r)},null,8,["modelValue"])])]),_:1})]),_:1})):oe("",!0)])]),_:1},8,["modelValue","title"]),l(ue,{modelValue:F.value,"onUpdate:modelValue":a[9]||(a[9]=r=>F.value=r),title:e(t)("Set Tag"),size:"md"},{footer:n(()=>[f("div",qt,[l(e(A),{variant:"outline",onClick:a[8]||(a[8]=r=>F.value=!1)},{default:n(()=>[p(c(e(t)("Cancel")),1)]),_:1}),l(e(A),{variant:"default",onClick:ut},{default:n(()=>[p(c(e(t)("Confirm")),1)]),_:1})])]),default:n(()=>[f("div",Jt,[l(e($),null,{default:n(()=>[l(e(R),null,{default:n(()=>[p(c(e(t)("Tag Key")),1)]),_:1}),l(e(j),null,{default:n(()=>[l(e(Se),{modelValue:E.value.name,"onUpdate:modelValue":a[6]||(a[6]=r=>E.value.name=r),placeholder:e(t)("Tag Key Placeholder")},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),l(e($),null,{default:n(()=>[l(e(R),null,{default:n(()=>[p(c(e(t)("Tag Value")),1)]),_:1}),l(e(j),null,{default:n(()=>[l(e(Se),{modelValue:E.value.value,"onUpdate:modelValue":a[7]||(a[7]=r=>E.value.value=r),placeholder:e(t)("Please enter tag value")},null,8,["modelValue","placeholder"])]),_:1})]),_:1})])]),_:1},8,["modelValue","title"]),l(ue,{modelValue:J.value,"onUpdate:modelValue":a[13]||(a[13]=r=>J.value=r),title:e(t)("Enable Storage Encryption"),size:"md"},{footer:n(()=>[f("div",Ht,[l(e(A),{variant:"outline",onClick:a[12]||(a[12]=r=>J.value=!1)},{default:n(()=>[p(c(e(t)("Cancel")),1)]),_:1}),l(e(A),{variant:"default",onClick:et},{default:n(()=>[p(c(e(t)("Confirm")),1)]),_:1})])]),default:n(()=>[f("div",Xt,[l(e($),null,{default:n(()=>[l(e(R),null,{default:n(()=>[p(c(e(t)("Encryption Type")),1)]),_:1}),l(e(j),null,{default:n(()=>[l(be,{modelValue:y.value.encrypt,"onUpdate:modelValue":a[10]||(a[10]=r=>y.value.encrypt=r),options:Ne.value,placeholder:e(t)("Please select encryption type")},null,8,["modelValue","options","placeholder"])]),_:1})]),_:1}),y.value.encrypt==="SSE-KMS"?(b(),H(e($),{key:0},{default:n(()=>[l(e(R),null,{default:n(()=>[...a[19]||(a[19]=[p("KMS Key ID",-1)])]),_:1}),l(e(j),null,{default:n(()=>[l(be,{modelValue:y.value.kmsKeyId,"onUpdate:modelValue":a[11]||(a[11]=r=>y.value.kmsKeyId=r),options:Oe.value,placeholder:e(t)("Please select KMS key")},null,8,["modelValue","options","placeholder"])]),_:1})]),_:1})):oe("",!0)])]),_:1},8,["modelValue","title"]),l(ue,{modelValue:X.value,"onUpdate:modelValue":a[18]||(a[18]=r=>X.value=r),title:e(t)("Set Retention"),size:"md"},{footer:n(()=>[f("div",tl,[l(e(A),{variant:"outline",onClick:a[17]||(a[17]=r=>X.value=!1)},{default:n(()=>[p(c(e(t)("Cancel")),1)]),_:1}),l(e(A),{variant:"default",onClick:rt},{default:n(()=>[p(c(e(t)("Confirm")),1)]),_:1})])]),default:n(()=>[f("div",Qt,[l(e($),null,{default:n(()=>[l(e(R),null,{default:n(()=>[p(c(e(t)("Retention Mode")),1)]),_:1}),l(e(j),null,{default:n(()=>[l(e(Be),{modelValue:m.value.retentionMode,"onUpdate:modelValue":a[14]||(a[14]=r=>m.value.retentionMode=r),class:"grid gap-2 sm:grid-cols-2"},{default:n(()=>[(b(!0),x(ae,null,_e(Ge.value,r=>(b(),x("label",{key:r.value,class:"flex items-start gap-3 rounded-md border border-border/50 p-3"},[l(e(Te),{value:r.value,class:"mt-0.5"},null,8,["value"]),f("span",Zt,c(r.label),1)]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(e($),null,{default:n(()=>[l(e(R),null,{default:n(()=>[p(c(e(t)("Retention Unit")),1)]),_:1}),l(e(j),null,{default:n(()=>[l(e(Be),{modelValue:m.value.retentionUnit,"onUpdate:modelValue":a[15]||(a[15]=r=>m.value.retentionUnit=r),class:"grid gap-2 sm:grid-cols-2"},{default:n(()=>[(b(!0),x(ae,null,_e(Ye.value,r=>(b(),x("label",{key:r.value,class:"flex items-start gap-3 rounded-md border border-border/50 p-3"},[l(e(Te),{value:r.value,class:"mt-0.5"},null,8,["value"]),f("span",el,c(r.label),1)]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(e($),null,{default:n(()=>[l(e(R),null,{default:n(()=>[p(c(e(t)("Retention Period")),1)]),_:1}),l(e(j),null,{default:n(()=>[l(e(Se),{modelValue:$e.value,"onUpdate:modelValue":a[16]||(a[16]=r=>$e.value=r),type:"number"},null,8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue","title"])],64)}}}),yl=Object.assign(ll,{__name:"BucketsInfo"});export{yl as _};
